<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" prefix="og: http://ogp.me/ns#" lang="ja" xml:lang="ja" >
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="../css/style_ja.css"/>
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>【72】シンプルさは捨てることによって得られる - プログラマが知るべき 97 のこと</title>
  <meta property="og:title" content="【72】シンプルさは捨てることによって得られる | プログラマが知るべき 97 のこと">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://yoshi389111.github.io/kinokobooks/images/prog97_ja.png">
  <meta property="og:url" content="https://yoshi389111.github.io/kinokobooks/prog_ja/prog072.htm">
  <meta property="og:site_name" content="プログラマが知るべき 97 のこと">
  <meta property="og:locale" content="ja_JP">
  <script type="text/javascript" src="../js/darkmode.js"></script>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<article>
<h1 id="e72">【72】シンプルさは捨てることによって得られる<span id="color-scheme"></span></h1>
<div class="author">
ポール・W・ホーマー（Paul W. Homer）
</div>
<p>　「やり直し、だな……」Delete キーを押しながら上司が言いました。私は、毎度のことながらとても沈んだ気持ちで、コンピュータの画面を見つめていました。私の書いたコードが 1 行 1 行、きれいに消されていくのを見ていたのです。</p>
<p>　私の上司ステファンは、いつも口うるさい人というわけではなかったのですが、質の悪いコードは一目で察知しました。また、そういうコードをどうすればいいか、よく知っていました。</p>
<p>　私は当時まだ見習いのプログラマで、やる気は十分だったのですが、コードの書き方がまったくわかっていませんでした。プログラムで解決すべき問題が増える度、とにかく解決のために変数を新たに加える悪い癖がありました。それでプログラムの行数も増やしてしまいます。リビジョンが上がる度にコードが良くなることはなく、かわりに規模が大きくなり、複雑さも増してしまうのです。そうなるとやはり、動作は安定しなくなってきます。</p>
<p>　特に急いでいる時には、できれば既存のコードに最低限の修正だけをして済ませたいと考えるのは自然なことです。たとえ既存のコードがひどいものでも、それで済めばありがたい、と考えるわけです。質の悪いものであっても、過去に書いたコードを消せないプログラマが多いでしょう。すべてをゼロからやり直して新しいコードを書くと、修正よりはるかに労力がかかるのではないかと恐れているのです。確かに既存のコードの質が良ければ、作り直しより修正が楽だとは言えますが、質の悪い既存コードは、あっても何の役に立たないことが多いのです。</p>
<p>　役に立たないどころか、既存のひどいコードを無理に残そうした結果、かえって余計な手間がかかってしまうということもあります。ある程度以下の質のコードは、活かそうとはせず、即座に破棄してしまった方が得策と言えます。</p>
<p>　もちろん、せっかく書いたコードをいきなり Delete キーで全部消してしまうのが必ずしも良いとは言いません。私の上司のやり方は少々極端でしょう。ただ、私の場合は、そうして自分の目の前でコードを消されてしまったことで、2 度目（時には 3 度目もありました）のコーディングの際は、嫌でも慎重に考えるようになりました。質の悪いコードは容赦なく書き直す、場合によってはいっそ全部消してしまう、というくらいの姿勢で取り組む方が、確実に質の向上につながると言えます。</p>
<p>　コードはシンプルなものであるべきです。変数や関数、宣言といった構成要素はできる限り減らすべきです。余分な行、余分な変数……、ともかく余分なものが少しでもあれば、即座に消すようにします。残るべきは、アルゴリズムを完成させ、必要な演算をすべて処理するための、必要最小限の要素だけです。余分な要素、不要なノイズがあると、処理の流れがわかりにくくなり、重要な部分が見えにくくなってしまいます。</p>
<p>　良い部分だけを残して悪い部分は消す、ということも困難なくらいひどいコードであれば、全部消して、はじめから書き直す方がいいのです。せっかく書いたものを結局全部消したという記憶が頭のどこかにあれば、次からは無駄なコードは書かないでおこうと無意識に気をつけるようになるはずです。</p>
</article>
<footer>
<p class="license">このエッセイは <a href="https://creativecommons.org/licenses/by/3.0/us/" class="external text" title="https://creativecommons.org/licenses/by/3.0/us/" rel="nofollow">CC-by-3.0-US</a> でライセンスされています。</p>

<div>
    <a class="sns-button" href="https://twitter.com/share?url=https://yoshi389111.github.io/kinokobooks/prog_ja/prog072.htm" rel="nofollow" target="_blank"><img class="sns-logo" src="../images/twitter.svg"></a>
    <a class="sns-button" href="https://www.facebook.com/share.php?u=https://yoshi389111.github.io/kinokobooks/prog_ja/prog072.htm" rel="nofollow" target="_blank"><img class="sns-logo" src="../images/facebook.svg"></a>
    <a class="sns-button" href="https://b.hatena.ne.jp/add?mode=confirm&url=https://yoshi389111.github.io/kinokobooks/prog_ja/prog072.htm" rel="nofollow" target="_blank"><img class="sns-logo" src="../images/hatebu.svg"></a>
    <a class="sns-button" href="https://getpocket.com/edit?url=https://yoshi389111.github.io/kinokobooks/prog_ja/prog072.htm" rel="nofollow" target="_blank"><img class="sns-logo" src="../images/pocket.svg"></a>
</div>

<nav>
<ul class="nav-links">
<li class="prev-article"><a href="prog071.htm">&lt; 前のエッセイ</a></li>
<li class="return-index"><a href="index.html">一覧</a></li>
<li class="next-article"><a href="prog073.htm">次のエッセイ &gt;</a></li>
</ul>
</nav>
</footer>
</body>
</html>
